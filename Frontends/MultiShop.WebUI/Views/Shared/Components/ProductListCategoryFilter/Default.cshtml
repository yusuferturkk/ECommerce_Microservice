@model List<ResultCategoryDto>

@{
    var currentCategoryId = ViewContext.RouteData.Values["id"]?.ToString();
    var currentSubCategoryId = Context.Request.Query["subCategoryId"].ToString();
}

<h5 class="section-title position-relative text-uppercase mb-3"><span class="bg-secondary pr-3">Kategoriler</span></h5>
<div class="bg-light p-4 mb-30">
    <form>
        <div class="custom-control custom-checkbox d-flex align-items-center justify-content-between mb-3">
            <input type="checkbox"
                   class="custom-control-input"
                   @(string.IsNullOrEmpty(currentCategoryId) ? "checked" : "")
                   id="size-all"
                   onclick="window.location.href='/ProductList/ProductGetAll/'">
            <label class="custom-control-label" for="size-all">Tüm Kategoriler</label>
            <span class="badge border font-weight-normal">@Model.Count()</span>
        </div>

        @foreach (var item in Model)
        {
            var isChecked = currentCategoryId == item.CategoryId.ToString() ? "checked" : "";

            <div class="custom-control custom-checkbox d-flex align-items-center justify-content-between mb-3">

                <input type="checkbox"
                       class="custom-control-input"
                       id="cat-@item.CategoryId"
                       @isChecked
                       onclick="window.location.href='/ProductList/ProductListWithSubCategory/@item.CategoryId'">

                <label class="custom-control-label" for="cat-@item.CategoryId">
                    <a href="/ProductList/ProductListWithSubCategory/@item.CategoryId" class="text-dark text-decoration-none">
                        @item.CategoryName
                    </a>
                </label>

            </div>
        }
    </form>
</div>